project('examples:project-lifecycle').beforeEvaluate {
    logger.quiet('Configuration 0')
}

allprojects {
    task printStructure() doLast {
        printMany "allprojects", allprojects
        printMany "subprojects", subprojects
        printMany "childProjects", childProjects.values()
        printMany "rootProject", rootProject
        printMany "parent", parent
    }
}


def printMany(name, collection) {
    println """$name : [\n\t${collection.collect { "{name:'$it.name', path: '$it.path'}" }.join("\n\t")}\n]"""
}